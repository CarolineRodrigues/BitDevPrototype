"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

require("core-js/modules/es.promise.js");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = catLane;

function _generalError() {
  const data = _interopRequireDefault(require("../../../error/general-error"));

  _generalError = function () {
    return data;
  };

  return data;
}

function _laneId() {
  const data = _interopRequireDefault(require("../../../lane-id/lane-id"));

  _laneId = function () {
    return data;
  };

  return data;
}

function _scope() {
  const data = require("../../../scope");

  _scope = function () {
    return data;
  };

  return data;
}

async function catLane(name) {
  const scope = await (0, _scope().loadScope)();
  const laneId = new (_laneId().default)({
    name
  });
  const lane = await scope.loadLane(laneId); // @todo: throw LaneNotFound

  if (!lane) throw new (_generalError().default)(`lane ${name} was not found!`);
  return lane.toObject();
}