import { Consumer } from '..';
import { BitId } from '../../bit-id';
import { PathOsBasedAbsolute, PathOsBasedRelative } from '../../utils/path';
import Component from '../component/consumer-component';
import PackageJsonFile from '../component/package-json-file';
import AbstractConfig, { Compilers, Testers } from './abstract-config';
import { ComponentOverridesData } from './component-overrides';
import { ExtensionDataList } from './extension-data';
import { ILegacyWorkspaceConfig } from './legacy-workspace-config-interface';
declare type ConfigProps = {
    lang?: string;
    compiler?: string | Compilers;
    tester?: string | Testers;
    bindingPrefix: string;
    extensions?: ExtensionDataList;
    defaultScope?: string;
    overrides?: ComponentOverridesData;
};
declare type ConfigLoadRegistry = {
    [extId: string]: Function;
};
declare type ConfigLegacyLoadRegistry = {
    [extId: string]: Function;
};
export default class ComponentConfig extends AbstractConfig {
    overrides: ComponentOverridesData | null | undefined;
    defaultScope: string | undefined;
    componentHasWrittenConfig: boolean;
    packageJsonFile: PackageJsonFile | null | undefined;
    static componentConfigLoadingRegistry: ConfigLoadRegistry;
    static registerOnComponentConfigLoading(extId: any, func: (id: any) => any): void;
    static componentConfigLegacyLoadingRegistry: ConfigLegacyLoadRegistry;
    static registerOnComponentConfigLegacyLoading(extId: any, func: (id: any, config: any) => any): void;
    constructor({ compiler, tester, lang, bindingPrefix, extensions, defaultScope, overrides }: ConfigProps);
    toPlainObject(): any;
    validate(bitJsonPath: string): void;
    /**
     * Return the extensions as ExtensionDataList
     *
     * @returns {ExtensionDataList}
     * @memberof ComponentConfig
     */
    parseExtensions(): ExtensionDataList;
    static fromPlainObject(object: Record<string, any>): ComponentConfig;
    static fromComponent(component: Component): ComponentConfig;
    mergeWithComponentData(component: Component): void;
    /**
     * Use the workspaceConfig as a base. Override values if exist in componentConfig
     * This only used for legacy props that were defined in the root like compiler / tester
     */
    static mergeWithWorkspaceRootConfigs(consumer: Consumer, componentId: BitId, componentConfig: Record<string, any>, workspaceConfig: ILegacyWorkspaceConfig | undefined): ComponentConfig;
    /**
     * component config is written by default to package.json inside "bit" property.
     * in case "eject-conf" was running or the component was imported with "--conf" flag, the
     * bit.json is written as well.
     *
     * @param {*} componentDir root component directory, needed for loading package.json file.
     * in case a component is authored, leave this param empty to not load the project package.json
     * @param {*} workspaceConfig
     */
    static loadConfigFromFolder({ componentDir, workspaceDir, }: {
        componentDir: PathOsBasedAbsolute | undefined;
        workspaceDir: PathOsBasedAbsolute;
    }): Promise<{
        componentHasWrittenConfig: boolean;
        config: any;
        packageJsonFile: any;
        bitJsonPath: string;
    }>;
    /**
     * component config is written by default to package.json inside "bit" property.
     * in case "eject-conf" was running or the component was imported with "--conf" flag, the
     * bit.json is written as well.
     *
     * @param {*} componentDir root component directory, needed for loading package.json file.
     * in case a component is authored, leave this param empty to not load the project package.json
     * @param {*} workspaceConfig
     */
    static load({ consumer, componentId, componentDir, workspaceDir, workspaceConfig, }: {
        consumer: Consumer;
        componentId: BitId;
        componentDir: PathOsBasedRelative | undefined;
        workspaceDir: PathOsBasedRelative;
        workspaceConfig: ILegacyWorkspaceConfig;
    }): Promise<ComponentConfig>;
    /**
     * Run all subscribers to the component config legacy load event
     *
     * @static
     * @param {ConfigLegacyLoadRegistry} subscribers
     * @param {BitId} id
     * @param {*} config
     * @memberof ComponentConfig
     */
    static runOnLegacyLoadEvent(subscribers: ConfigLegacyLoadRegistry, id: BitId, config: any): Promise<void>;
    /**
     * Run all subscribers to the component config load event
     *
     * @static
     * @param {ConfigLoadRegistry} subscribers
     * @param {BitId} id
     * @memberof ComponentConfig
     */
    static runOnLoadEvent(subscribers: ConfigLoadRegistry, id: BitId): Promise<any[]>;
}
export {};
