import { ReactNode } from 'react';
import type { ApolloClient, NormalizedCacheObject } from '@apollo/client';
import type { BrowserData, RenderPlugins } from '@teambit/ui';
import type { GraphqlUI, GraphQLClient } from './graphql.ui.runtime';
declare type RenderContext = {
    client: GraphQLClient<any>;
};
export declare class GraphqlRenderPlugins implements RenderPlugins<RenderContext, {
    state?: NormalizedCacheObject;
}> {
    private graphqlUI;
    constructor(graphqlUI: GraphqlUI);
    serverInit: ({ browser, server }?: {
        browser?: BrowserData | undefined;
        server?: {
            port: number;
        } | undefined;
    }) => RenderContext | undefined;
    /**
     * Eagerly and recursively execute all gql queries in the app.
     * Data will be available in gqlClient.extract()
     */
    onBeforeRender: (ctx: RenderContext, app: ReactNode) => Promise<void>;
    serialize: (ctx?: RenderContext | undefined) => {
        json: string;
    } | undefined;
    deserialize: (raw?: string | undefined) => {
        state: NormalizedCacheObject | undefined;
    };
    private _client;
    browserInit: ({ state }?: {
        state?: NormalizedCacheObject | undefined;
    }) => {
        client: ApolloClient<NormalizedCacheObject>;
    };
    getClient(): ApolloClient<NormalizedCacheObject>;
    private BrowserGqlProvider;
    reactContext: ({ renderCtx, children }: {
        renderCtx?: RenderContext | undefined;
        children: ReactNode;
    }) => JSX.Element;
}
export {};
