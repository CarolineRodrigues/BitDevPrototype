{"version":3,"sources":["create-link.ts"],"names":["createSplitLink","httpLink","wsLink","query","definition","kind","operation"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAGA;AACA;AACA;AACA;AACA;AACO,SAASA,eAAT,CAAyBC,QAAzB,EAA6CC,MAA7C,EAAoE;AACzE,SAAO,sBACL;AACA,GAAC;AAAEC,IAAAA;AAAF,GAAD,KAAe;AACb,UAAMC,UAAU,GAAG,oCAAkBD,KAAlB,CAAnB;AACA,WAAOC,UAAU,CAACC,IAAX,KAAoB,qBAApB,IAA6CD,UAAU,CAACE,SAAX,KAAyB,cAA7E;AACD,GALI,EAMLJ,MANK,EAOLD,QAPK,CAAP;AASD","sourcesContent":["import { HttpLink, split } from '@apollo/client';\nimport { getMainDefinition } from '@apollo/client/utilities';\nimport type { WebSocketLink } from '@apollo/client/link/ws';\n\n/**\n * create a link which splits routes data depending on type of operation.\n * @param httpLink http link for apollo graphql\n * @param wsLink web socket link for apollo graphql\n */\nexport function createSplitLink(httpLink: HttpLink, wsLink: WebSocketLink) {\n  return split(\n    // split based on operation type\n    ({ query }) => {\n      const definition = getMainDefinition(query);\n      return definition.kind === 'OperationDefinition' && definition.operation === 'subscription';\n    },\n    wsLink,\n    httpLink\n  );\n}\n"]}