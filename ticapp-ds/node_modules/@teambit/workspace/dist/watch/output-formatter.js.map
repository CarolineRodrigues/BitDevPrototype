{"version":3,"sources":["output-formatter.ts"],"names":["verboseComponentFilesArrayToString","componentFiles","reduce","outputString","filePath","resultsForExtensionArrayToString","resultsForExtension","verbose","resultForExtension","chalk","green","component","componentFilesAsString","formatWatchPathsSortByComponent","trackDirs","Object","keys","watchPath","underline","formatCompileResults","compileResults","length","Array","isArray","filter","compileResult","results","map","extensionId","buildResults"],"mappings":";;;;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAGA,MAAMA,kCAAkC,GAAIC,cAAD,IAAoB;AAC7D,SAAOA,cAAc,CAACC,MAAf,CAAsB,CAACC,YAAD,EAAeC,QAAf,KAA6B,GAAED,YAAa,SAAQC,QAAS,IAAnF,EAAyF,EAAzF,CAAP;AACD,CAFD;;AAIA,MAAMC,gCAAgC,GAAG,CAACC,mBAAD,EAAsBC,OAAtB,KAAkC;AACzE,SAAOD,mBAAmB,CAACJ,MAApB,CACL,CAACC,YAAD,EAAeK,kBAAf,KACG,GAAEL,YAAa,GAAEM,iBAAMC,KAAN,CAAY,GAAZ,CAAiB,YAAWF,kBAAkB,CAACG,SAAU;AACjF,OAAOJ,OAAO,GAAGC,kBAAkB,CAACI,sBAAtB,GAA+C,EAAG,IAHvD,EAIL,EAJK,CAAP;AAMD,CAPD;;AASO,MAAMC,+BAA+B,GAAIC,SAAD,IAAe;AAC5D,SAAOC,MAAM,CAACC,IAAP,CAAYF,SAAZ,EAAuBZ,MAAvB,CACL,CAACC,YAAD,EAAec,SAAf,KACG,GAAEd,YAAa;AACtB,MAAMM,iBAAMC,KAAN,CAAY,GAAZ,CAAiB,aAAYI,SAAS,CAACG,SAAD,CAAY;AACxD,WAAWA,SAAU,MAJZ,EAKJ,IAAGR,iBAAMS,SAAN,CAAgB,wBAAhB,CAA0C,IALzC,CAAP;AAOD,CARM;AAUP;AACA;AACA;AACA;AACA;AACA;;;;;AACO,SAASC,oBAAT,CAA8BC,cAA9B,EAAwEb,OAAxE,EAA0F;AAC/F,MAAI,CAACa,cAAc,CAACC,MAAhB,IAA0B,CAACC,KAAK,CAACC,OAAN,CAAcH,cAAd,CAA/B,EAA8D,OAAO,EAAP;AAC9D,SAAOA,cAAc,CAClBI,MADI,CACIC,aAAD;AAAA;;AAAA,WAAmB,0BAAAA,aAAa,CAACC,OAAd,gFAAuBA,OAAvB,KAAkCJ,KAAK,CAACC,OAAN,2BAAcE,aAAa,CAACC,OAA5B,2DAAc,uBAAuBA,OAArC,CAArD;AAAA,GADH,EAEJC,GAFI,CAECF,aAAD;AAAA;;AAAA,WAAoB;AACvBG,MAAAA,WAAW,EAAEH,aAAa,CAACG,WADJ;AAEvBtB,MAAAA,mBAAmB,4BAAEmB,aAAa,CAACC,OAAhB,qFAAE,uBAAuBA,OAAzB,2DAAE,uBAAgCC,GAAhC,CAAqCnB,kBAAD,KAAyB;AAChFG,QAAAA,SAAS,EAAEH,kBAAkB,CAACG,SADkD;AAEhFC,QAAAA,sBAAsB,EAAEZ,kCAAkC,CAACQ,kBAAkB,CAACqB,YAApB;AAFsB,OAAzB,CAApC;AAFE,KAApB;AAAA,GAFA,EASJ3B,MATI,CAUH,CAACC,YAAD,EAAesB,aAAf,KACG,GAAEtB,YAAa;AACxB,IAAIE,gCAAgC,CAACoB,aAAa,CAACnB,mBAAf,EAAoCC,OAApC,CAA6C,EAZxE,EAaF,IAAGE,iBAAMS,SAAN,CAAgB,sBAAhB,CAAwC,EAbzC,CAAP;AAeD","sourcesContent":["import chalk from 'chalk';\nimport { OnComponentEventResult } from '../on-component-events';\n\nconst verboseComponentFilesArrayToString = (componentFiles) => {\n  return componentFiles.reduce((outputString, filePath) => `${outputString} \\t - ${filePath}\\n`, ``);\n};\n\nconst resultsForExtensionArrayToString = (resultsForExtension, verbose) => {\n  return resultsForExtension.reduce(\n    (outputString, resultForExtension) =>\n      `${outputString}${chalk.green('√')}SUCCESS\\t${resultForExtension.component}\\n\n     ${verbose ? resultForExtension.componentFilesAsString : ''}\\n`,\n    ''\n  );\n};\n\nexport const formatWatchPathsSortByComponent = (trackDirs) => {\n  return Object.keys(trackDirs).reduce(\n    (outputString, watchPath) =>\n      `${outputString}\n    ${chalk.green('√')} SUCCESS\\t${trackDirs[watchPath]}\\n\n    \\t - ${watchPath}\\n\\n`,\n    ` ${chalk.underline('STATUS\\t\\tCOMPONENT ID')}\\n`\n  );\n};\n\n/**\n * todo: this was implemented incorrectly.\n * the original idea of `SerializableResults` was to have each one of the aspects registered to the slot, the\n * ability to have their own formatting to their results, and then `toString()` method to print them.\n * Here, the printing is specifically to the Compiler aspect. It should move to where it belongs.\n */\nexport function formatCompileResults(compileResults: OnComponentEventResult[], verbose: boolean) {\n  if (!compileResults.length || !Array.isArray(compileResults)) return '';\n  return compileResults\n    .filter((compileResult) => compileResult.results?.results && Array.isArray(compileResult.results?.results))\n    .map((compileResult) => ({\n      extensionId: compileResult.extensionId,\n      resultsForExtension: compileResult.results?.results?.map((resultForExtension) => ({\n        component: resultForExtension.component,\n        componentFilesAsString: verboseComponentFilesArrayToString(resultForExtension.buildResults),\n      })),\n    }))\n    .reduce(\n      (outputString, compileResult) =>\n        `${outputString}\n  ${resultsForExtensionArrayToString(compileResult.resultsForExtension, verbose)}`,\n      ` ${chalk.underline('STATUS\\tCOMPONENT ID')}`\n    );\n}\n"]}