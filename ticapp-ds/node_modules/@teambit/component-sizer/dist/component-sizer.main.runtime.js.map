{"version":3,"sources":["component-sizer.main.runtime.ts"],"names":["ComponentSizerMain","constructor","preview","getComponentSize","component","getComponentBundleSize","provider","graphql","componentSizer","register","PreviewAspect","GraphqlAspect","ComponentAspect","MainRuntime","ComponentSizerAspect","addRuntime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEO,MAAMA,kBAAN,CAAyB;AAC9BC,EAAAA,WAAW;AACT;AACJ;AACA;AACYC,EAAAA,OAJC,EAKT;AAAA,SADQA,OACR,GADQA,OACR;AAAE;;AAEJC,EAAAA,gBAAgB,CAACC,SAAD,EAAyD;AACvE,WAAO,KAAKF,OAAL,CAAaG,sBAAb,CAAoCD,SAApC,CAAP;AACD;;AAKoB,eAARE,QAAQ,CAAC,CAACJ,OAAD,EAAUK,OAAV,CAAD,EAAiD;AACpE,UAAMC,cAAc,GAAG,IAAIR,kBAAJ,CAAuBE,OAAvB,CAAvB;AACAK,IAAAA,OAAO,CAACE,QAAR,CAAiB,6CAAqBD,cAArB,CAAjB;AACA,WAAOA,cAAP;AACD;;AAnB6B;;;gCAAnBR,kB,WAYI,E;gCAZJA,kB,kBAaW,CAACU,kBAAD,EAAgBC,kBAAhB,EAA+BC,oBAA/B,C;gCAbXZ,kB,aAcMa,kB;;AAQnBC,uCAAqBC,UAArB,CAAgCf,kBAAhC","sourcesContent":["import { MainRuntime } from '@teambit/cli';\nimport ComponentAspect, { Component } from '@teambit/component';\nimport GraphqlAspect, { GraphqlMain } from '@teambit/graphql';\nimport PreviewAspect, { ComponentPreviewSize, PreviewMain } from '@teambit/preview';\nimport { ComponentSizerAspect } from './component-sizer.aspect';\nimport { componentSizerSchema } from './component-sizer.graphql';\n\nexport class ComponentSizerMain {\n  constructor(\n    /**\n     * preview aspect.\n     */\n    private preview: PreviewMain\n  ) {}\n\n  getComponentSize(component: Component): ComponentPreviewSize | undefined {\n    return this.preview.getComponentBundleSize(component);\n  }\n\n  static slots = [];\n  static dependencies = [PreviewAspect, GraphqlAspect, ComponentAspect];\n  static runtime = MainRuntime;\n  static async provider([preview, graphql]: [PreviewMain, GraphqlMain]) {\n    const componentSizer = new ComponentSizerMain(preview);\n    graphql.register(componentSizerSchema(componentSizer));\n    return componentSizer;\n  }\n}\n\nComponentSizerAspect.addRuntime(ComponentSizerMain);\n"]}