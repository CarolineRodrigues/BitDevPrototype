{"version":3,"sources":["pnpm.main.runtime.ts"],"names":["PnpmMain","provider","depResolver","pkg","loggerExt","logger","createLogger","PnpmAspect","id","registerPackageManager","PnpmPackageManager","MainRuntime","DependencyResolverAspect","PkgAspect","LoggerAspect","addRuntime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEO,MAAMA,QAAN,CAAe;AAIC,eAARC,QAAQ,CAAC,CAACC,WAAD,EAAcC,GAAd,EAAmBC,SAAnB,CAAD,EAA+E;AAClG,UAAMC,MAAM,GAAGD,SAAS,CAACE,YAAV,CAAuBC,mBAAWC,EAAlC,CAAf;AACAN,IAAAA,WAAW,CAACO,sBAAZ,CAAmC,KAAIC,2BAAJ,EAAuBR,WAAvB,EAAoCC,GAApC,EAAyCE,MAAzC,CAAnC;AACA,WAAO,IAAIL,QAAJ,EAAP;AACD;;AARmB;;;gCAATA,Q,aACMW,kB;gCADNX,Q,kBAEW,CAACY,8CAAD,EAA2BC,gBAA3B,EAAsCC,sBAAtC,C;;AASxBP,mBAAWQ,UAAX,CAAsBf,QAAtB","sourcesContent":["import { MainRuntime } from '@teambit/cli';\nimport { DependencyResolverAspect, DependencyResolverMain } from '@teambit/dependency-resolver';\nimport { LoggerAspect, LoggerMain } from '@teambit/logger';\nimport { PkgAspect, PkgMain } from '@teambit/pkg';\n\nimport { PnpmAspect } from './pnpm.aspect';\nimport { PnpmPackageManager } from './pnpm.package-manager';\n\nexport class PnpmMain {\n  static runtime = MainRuntime;\n  static dependencies = [DependencyResolverAspect, PkgAspect, LoggerAspect];\n\n  static async provider([depResolver, pkg, loggerExt]: [DependencyResolverMain, PkgMain, LoggerMain]) {\n    const logger = loggerExt.createLogger(PnpmAspect.id);\n    depResolver.registerPackageManager(new PnpmPackageManager(depResolver, pkg, logger));\n    return new PnpmMain();\n  }\n}\n\nPnpmAspect.addRuntime(PnpmMain);\n"]}