{"version":3,"sources":["pnpm.ui.runtime.tsx"],"names":["PnpmUI","comp","options","currentLane","undefined","registry","packageName","split","packageVersion","version","latest","Title","height","marginTop","Component","id","name","order","provider","componentUI","pnpm","registerConsumeMethod","consumeMethod","UIRuntime","ComponentAspect","PnpmAspect","addRuntime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEO,MAAMA,MAAN,CAAa;AAAA;AAAA,2DAWqB,CAACC,IAAD,EAAOC,OAAP,KAAmB;AACxD,UAAIA,OAAJ,aAAIA,OAAJ,eAAIA,OAAO,CAAEC,WAAb,EAA0B,OAAOC,SAAP;AAE1B,YAAMC,QAAQ,GAAGJ,IAAI,CAACK,WAAL,CAAiBC,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,CAAjB;AACA,YAAMC,cAAc,GAAGP,IAAI,CAACQ,OAAL,KAAiBR,IAAI,CAACS,MAAtB,GAA+B,EAA/B,GAAqC,IAAGT,IAAI,CAACQ,OAAQ,EAA5E;AACA,aAAO;AACLE,QAAAA,KAAK,eAAE;AAAK,UAAA,KAAK,EAAE;AAAEC,YAAAA,MAAM,EAAE,MAAV;AAAkBC,YAAAA,SAAS,EAAE;AAA7B,WAAZ;AAAmD,UAAA,GAAG,EAAC;AAAvD,UADF;AAELC,QAAAA,SAAS,eACP,+BAAC,+BAAD;AACE,UAAA,MAAM,EAAG,mBAAkBT,QAAS,mCADtC;AAEE,UAAA,aAAa,EAAEJ,IAAI,CAACc,EAAL,CAAQC,IAFzB;AAGE,UAAA,cAAc,EAAC,MAHjB;AAIE,UAAA,UAAU,EAAG,UAASf,IAAI,CAACK,WAAY,GAAEE,cAAe,EAJ1D;AAKE,UAAA,YAAY,EAAEH;AALhB,UAHG;AAWLY,QAAAA,KAAK,EAAE;AAXF,OAAP;AAaD,KA7BiB;AAAA;;AAKG,eAARC,QAAQ,CAAC,CAACC,WAAD,CAAD,EAA+B;AAClD,UAAMC,IAAI,GAAG,IAAIpB,MAAJ,EAAb;AACAmB,IAAAA,WAAW,CAACE,qBAAZ,CAAkCD,IAAI,CAACE,aAAvC;AACA,WAAOF,IAAP;AACD;;AATiB;;;gCAAPpB,M,aACMuB,e;gCADNvB,M,kBAGW,CAACwB,oBAAD,C;eA6BTxB,M;;;AAEfyB,mBAAWC,UAAX,CAAsB1B,MAAtB","sourcesContent":["import React from 'react';\nimport { UIRuntime } from '@teambit/ui';\nimport { Install } from '@teambit/ui-foundation.ui.use-box.menu';\nimport ComponentAspect, { ComponentUI, ConsumePlugin } from '@teambit/component';\nimport { PnpmAspect } from './pnpm.aspect';\n\nexport class PnpmUI {\n  static runtime = UIRuntime;\n\n  static dependencies = [ComponentAspect];\n\n  static async provider([componentUI]: [ComponentUI]) {\n    const pnpm = new PnpmUI();\n    componentUI.registerConsumeMethod(pnpm.consumeMethod);\n    return pnpm;\n  }\n\n  private consumeMethod: ConsumePlugin = (comp, options) => {\n    if (options?.currentLane) return undefined;\n\n    const registry = comp.packageName.split('/')[0];\n    const packageVersion = comp.version === comp.latest ? '' : `@${comp.version}`;\n    return {\n      Title: <img style={{ height: '16px', marginTop: '-2px' }} src=\"https://static.bit.dev/brands/pnpm.svg\" />,\n      Component: (\n        <Install\n          config={`npm config set '${registry}:registry' https://node.bit.cloud`}\n          componentName={comp.id.name}\n          packageManager=\"pnpm\"\n          copyString={`pnpm i ${comp.packageName}${packageVersion}`}\n          registryName={registry}\n        />\n      ),\n      order: 30,\n    };\n  };\n}\n\nexport default PnpmUI;\n\nPnpmAspect.addRuntime(PnpmUI);\n"]}