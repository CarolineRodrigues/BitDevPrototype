{"version":3,"sources":["env-policy-factory.ts"],"names":["EnvPolicyFactory","fromConfigObject","configObject","variantConfigObject","variantPolicyFactory","VariantPolicyFactory","variantPolicy","peersAutoDetectEntries","peers","peersAutoDetectPolicy","PeersAutoDetectPolicy","EnvPolicy","getEmpty"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEO,MAAMA,gBAAN,CAAuB;AAC5BC,EAAAA,gBAAgB,CAACC,YAAD,EAA0B;AACxC,UAAMC,mBAAmB,GAAG,oBAAKD,YAAL,EAAmB,CAAC,cAAD,EAAiB,iBAAjB,EAAoC,kBAApC,CAAnB,CAA5B;AACA,UAAME,oBAAoB,GAAG,KAAIC,wBAAJ,GAA7B;AACA,UAAMC,aAAa,GAAGF,oBAAoB,CAACH,gBAArB,CAAsCE,mBAAtC,EAA2D,KAA3D,CAAtB;AACA,UAAMI,sBAAsB,GAAGL,YAAY,CAACM,KAA5C;AACA,UAAMC,qBAAqB,GAAG,KAAIC,8CAAJ,EAA0BH,sBAA1B,CAA9B;AACA,WAAO,KAAII,sBAAJ,EAAcL,aAAd,EAA6BG,qBAA7B,CAAP;AACD;;AAEDG,EAAAA,QAAQ,GAAc;AACpB,UAAMR,oBAAoB,GAAG,KAAIC,wBAAJ,GAA7B;AACA,WAAO,KAAIM,sBAAJ,EAAcP,oBAAoB,CAACQ,QAArB,EAAd,EAA+C,KAAIF,8CAAJ,EAA0B,EAA1B,CAA/C,CAAP;AACD;;AAb2B","sourcesContent":["import { pick } from 'lodash';\nimport { EnvPolicy } from './env-policy';\nimport { VariantPolicyFactory } from '..';\nimport { PeersAutoDetectPolicy } from './peers-auto-detect-policy';\n\nexport class EnvPolicyFactory {\n  fromConfigObject(configObject): EnvPolicy {\n    const variantConfigObject = pick(configObject, ['dependencies', 'devDependencies', 'peerDependencies']);\n    const variantPolicyFactory = new VariantPolicyFactory();\n    const variantPolicy = variantPolicyFactory.fromConfigObject(variantConfigObject, 'env');\n    const peersAutoDetectEntries = configObject.peers;\n    const peersAutoDetectPolicy = new PeersAutoDetectPolicy(peersAutoDetectEntries);\n    return new EnvPolicy(variantPolicy, peersAutoDetectPolicy);\n  }\n\n  getEmpty(): EnvPolicy {\n    const variantPolicyFactory = new VariantPolicyFactory();\n    return new EnvPolicy(variantPolicyFactory.getEmpty(), new PeersAutoDetectPolicy([]));\n  }\n}\n"]}