{"version":3,"sources":["base-dependency.ts"],"names":["BaseDependency","constructor","_id","_version","_lifecycle","_source","id","newId","version","type","_type","lifecycle","source","serialize","__type","toString","setVersion","newVersion","getPackageName","toManifest","packageName"],"mappings":";;;;;;;;;;;;;;;;;;;AAGO,MAAeA,cAAf,CAAoD;AAGzDC,EAAAA,WAAW,CACDC,GADC,EAEDC,QAFC,EAGDC,UAHC,EAIDC,OAJC,EAKT;AAAA,SAJQH,GAIR,GAJQA,GAIR;AAAA,SAHQC,QAGR,GAHQA,QAGR;AAAA,SAFQC,UAER,GAFQA,UAER;AAAA,SADQC,OACR,GADQA,OACR;AAAA;AAAE;;AAEE,MAAFC,EAAE,GAAG;AACP,WAAO,KAAKJ,GAAZ;AACD;;AAEK,MAAFI,EAAE,CAACC,KAAD,EAAgB;AACpB,SAAKL,GAAL,GAAWK,KAAX;AACD;;AAEU,MAAPC,OAAO,GAAG;AACZ,WAAO,KAAKL,QAAZ;AACD;;AAEO,MAAJM,IAAI,GAAG;AACT,WAAO,KAAKC,KAAZ;AACD;;AAEY,MAATC,SAAS,GAAG;AACd,WAAO,KAAKP,UAAZ;AACD;;AAES,MAANQ,MAAM,GAAG;AACX,WAAO,KAAKP,OAAZ;AACD;;AAES,MAANO,MAAM,CAACA,MAAD,EAAS;AACjB,SAAKP,OAAL,GAAeO,MAAf;AACD;;AAEDC,EAAAA,SAAS,GAA+C;AACtD,WAAO;AACLP,MAAAA,EAAE,EAAE,KAAKA,EADJ;AAELE,MAAAA,OAAO,EAAE,KAAKA,OAFT;AAGLM,MAAAA,MAAM,EAAE,KAAKL,IAHR;AAILE,MAAAA,SAAS,EAAE,KAAKA,SAAL,CAAeI,QAAf,EAJN;AAKLH,MAAAA,MAAM,EAAE,KAAKA;AALR,KAAP;AAOD;;AAEDI,EAAAA,UAAU,CAACC,UAAD,EAAqB;AAC7B,SAAKd,QAAL,GAAgBc,UAAhB;AACD;;AAEDC,EAAAA,cAAc,GAAG;AACf,WAAO,KAAKZ,EAAZ;AACD;;AAEDa,EAAAA,UAAU,GAAuB;AAAA;;AAC/B,UAAMC,WAAW,2BAAG,KAAKF,cAAR,yDAAG,+BAApB;AACA,UAAMV,OAAO,GAAG,KAAKA,OAArB;AACA,WAAO;AACLY,MAAAA,WADK;AAELZ,MAAAA;AAFK,KAAP;AAID;;AA/DwD","sourcesContent":["import { DependencySource } from '../policy/variant-policy/variant-policy';\nimport { Dependency, DependencyLifecycleType, DependencyManifest } from './dependency';\n\nexport abstract class BaseDependency implements Dependency {\n  _type: string;\n\n  constructor(\n    private _id: string,\n    private _version: string,\n    private _lifecycle: DependencyLifecycleType,\n    private _source?: DependencySource\n  ) {}\n\n  get id() {\n    return this._id;\n  }\n\n  set id(newId: string) {\n    this._id = newId;\n  }\n\n  get version() {\n    return this._version;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  get lifecycle() {\n    return this._lifecycle;\n  }\n\n  get source() {\n    return this._source;\n  }\n\n  set source(source) {\n    this._source = source;\n  }\n\n  serialize<SerializedDependency>(): SerializedDependency {\n    return {\n      id: this.id,\n      version: this.version,\n      __type: this.type,\n      lifecycle: this.lifecycle.toString(),\n      source: this.source,\n    } as unknown as SerializedDependency;\n  }\n\n  setVersion(newVersion: string) {\n    this._version = newVersion;\n  }\n\n  getPackageName() {\n    return this.id;\n  }\n\n  toManifest(): DependencyManifest {\n    const packageName = this.getPackageName?.();\n    const version = this.version;\n    return {\n      packageName,\n      version,\n    };\n  }\n}\n"]}