{"version":3,"sources":["preview.graphql.ts"],"names":["previewSchema","previewExtension","typeDefs","resolvers","Component","preview","component","Preview","includesEnvTemplate","isBundledWithEnv"],"mappings":";;;;;;;;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAIO,SAASA,aAAT,CAAuBC,gBAAvB,EAAsD;AAC3D,SAAO;AACLC,IAAAA,QAAQ,EAAE,0BAAI;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAVS;AAWLC,IAAAA,SAAS,EAAE;AACTC,MAAAA,SAAS,EAAE;AACTC,QAAAA,OAAO,EAAGC,SAAD,IAA0B;AACjC;AACA,iBAAO;AAAEA,YAAAA;AAAF,WAAP;AACD;AAJQ,OADF;AAOTC,MAAAA,OAAO,EAAE;AACPC,QAAAA,mBAAmB,EAAE,CAAC;AAAEF,UAAAA;AAAF,SAAD,KAAmB;AACtC,iBAAOL,gBAAgB,CAACQ,gBAAjB,CAAkCH,SAAlC,CAAP;AACD;AAHM;AAPA;AAXN,GAAP;AAyBD","sourcesContent":["import { Component } from '@teambit/component';\nimport gql from 'graphql-tag';\n\nimport { PreviewMain } from './preview.main.runtime';\n\nexport function previewSchema(previewExtension: PreviewMain) {\n  return {\n    typeDefs: gql`\n      type Preview {\n        # url: String!\n        includesEnvTemplate: Boolean\n      }\n\n      extend type Component {\n        preview: Preview\n      }\n    `,\n    resolvers: {\n      Component: {\n        preview: (component: Component) => {\n          // return previewExtension.getPreview(component);\n          return { component };\n        },\n      },\n      Preview: {\n        includesEnvTemplate: ({ component }) => {\n          return previewExtension.isBundledWithEnv(component);\n        },\n      },\n    },\n  };\n}\n"]}