{"version":3,"sources":["preview-artifact.ts"],"names":["PreviewArtifact","constructor","artifacts","getPaths","map","artifact","relative","getFile","path","find","file","getFileEndsWith","endsWith"],"mappings":";;;;;;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEO,MAAMA,eAAN,CAAsB;AAC3BC,EAAAA,WAAW,CAASC,SAAT,EAAqC;AAAA,SAA5BA,SAA4B,GAA5BA,SAA4B;AAAE;;AAElDC,EAAAA,QAAQ,GAAG;AACT;AACA,WAAO,oBAAK,KAAKD,SAAL,CAAeE,GAAf,CAAoBC,QAAD,IAAcA,QAAQ,CAACC,QAA1C,CAAL,CAAP;AACD;;AAEDC,EAAAA,OAAO,CAACC,IAAD,EAAe;AACpB,WAAO,KAAKN,SAAL,CAAeO,IAAf,CAAqBC,IAAD,IAAU;AACnC,aAAO,mCAAqBA,IAAI,CAACJ,QAA1B,MAAwCE,IAA/C;AACD,KAFM,CAAP;AAGD;;AAEDG,EAAAA,eAAe,CAACH,IAAD,EAAe;AAC5B,WAAO,KAAKN,SAAL,CAAeO,IAAf,CAAqBC,IAAD,IAAU;AACnC,aAAO,mCAAqBA,IAAI,CAACJ,QAA1B,EAAoCM,QAApC,CAA6CJ,IAA7C,CAAP;AACD,KAFM,CAAP;AAGD;;AAlB0B","sourcesContent":["import { AbstractVinyl } from '@teambit/legacy/dist/consumer/component/sources';\nimport { pathNormalizeToLinux } from '@teambit/legacy/dist/utils';\nimport { uniq } from 'lodash';\n\nexport class PreviewArtifact {\n  constructor(private artifacts: AbstractVinyl[]) {}\n\n  getPaths() {\n    // TODO: check why the artifacts stored twice, then remove this uniq here\n    return uniq(this.artifacts.map((artifact) => artifact.relative));\n  }\n\n  getFile(path: string) {\n    return this.artifacts.find((file) => {\n      return pathNormalizeToLinux(file.relative) === path;\n    });\n  }\n\n  getFileEndsWith(path: string) {\n    return this.artifacts.find((file) => {\n      return pathNormalizeToLinux(file.relative).endsWith(path);\n    });\n  }\n}\n"]}