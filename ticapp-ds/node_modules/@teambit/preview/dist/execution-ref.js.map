{"version":3,"sources":["execution-ref.ts"],"names":["ExecutionRef","constructor","executionCtx","currentComponents","components","add","added","concat","remove","removed","filter","c","id","toString","update","next","map","equals","get","find","x","isEqual"],"mappings":";;;;;;;;;;;;;;;;;;;AAGA;AACO,MAAMA,YAAN,CAAmB;AACxBC,EAAAA,WAAW,CAAQC,YAAR,EAAwC;AAAA,SAAhCA,YAAgC,GAAhCA,YAAgC;AAAA;AACjD,SAAKC,iBAAL,GAAyBD,YAAY,CAACE,UAAtC;AACD;;AAIDC,EAAAA,GAAG,CAACC,KAAD,EAAmB;AACpB,SAAKH,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBI,MAAvB,CAA8BD,KAA9B,CAAzB;AACD;;AACDE,EAAAA,MAAM,CAACC,OAAD,EAAuB;AAC3B,SAAKN,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBO,MAAvB,CAA+BC,CAAD,IAAOA,CAAC,CAACC,EAAF,CAAKC,QAAL,OAAoBJ,OAAO,CAACI,QAAR,EAAzD,CAAzB;AACD;;AACDC,EAAAA,MAAM,CAACC,IAAD,EAAkB;AACtB,SAAKZ,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBa,GAAvB,CAA4BL,CAAD,IAAQA,CAAC,CAACM,MAAF,CAASF,IAAT,IAAiBA,IAAjB,GAAwBJ,CAA3D,CAAzB;AACD;;AAEDO,EAAAA,GAAG,CAACN,EAAD,EAAkB;AACnB,WAAO,KAAKT,iBAAL,CAAuBgB,IAAvB,CAA6BC,CAAD,IAAOA,CAAC,CAACR,EAAF,CAAKS,OAAL,CAAaT,EAAb,CAAnC,CAAP;AACD;;AAnBuB","sourcesContent":["import { Component, ComponentID } from '@teambit/component';\nimport type { ExecutionContext } from '@teambit/envs';\n\n// TODO - use workspace.list() instead of this\nexport class ExecutionRef {\n  constructor(public executionCtx: ExecutionContext) {\n    this.currentComponents = executionCtx.components;\n  }\n\n  currentComponents: Component[];\n\n  add(added: Component) {\n    this.currentComponents = this.currentComponents.concat(added);\n  }\n  remove(removed: ComponentID) {\n    this.currentComponents = this.currentComponents.filter((c) => c.id.toString() !== removed.toString());\n  }\n  update(next: Component) {\n    this.currentComponents = this.currentComponents.map((c) => (c.equals(next) ? next : c));\n  }\n\n  get(id: ComponentID) {\n    return this.currentComponents.find((x) => x.id.isEqual(id));\n  }\n}\n"]}