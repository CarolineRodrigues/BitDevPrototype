"use strict";

require("core-js/modules/es.promise.js");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LintTask = void 0;

class LintTask {
  constructor(aspectId, name = 'lint') {
    this.aspectId = aspectId;
    this.name = name;
  }

  async execute(context) {
    const linter = context.env.getLinter();
    const results = await linter.lint(context);
    const componentsResults = results.results.map(lintResult => {
      return {
        component: lintResult.component,
        metadata: {
          output: lintResult.output,
          results: lintResult.results
        },
        errors: []
      };
    });
    return {
      componentsResults
    };
  }

}

exports.LintTask = LintTask;

//# sourceMappingURL=lint.task.js.map