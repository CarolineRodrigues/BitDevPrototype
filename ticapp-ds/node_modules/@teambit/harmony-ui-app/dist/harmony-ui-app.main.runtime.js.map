{"version":3,"sources":["harmony-ui-app.main.runtime.ts"],"names":["HarmonyUiAppMain","constructor","application","ui","componentAspect","registerHarmonyApp","options","registerUiRoot","name","path","getHost","configFile","resolvePattern","resolveAspects","aspectDefs","provider","ApplicationAspect","UIAspect","ComponentAspect","MainRuntime","HarmonyUiAppAspect","addRuntime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAEO,MAAMA,gBAAN,CAAuB;AAC5BC,EAAAA,WAAW,CAASC,WAAT,EAA+CC,EAA/C,EAAmEC,eAAnE,EAAmG;AAAA,SAA1FF,WAA0F,GAA1FA,WAA0F;AAAA,SAApDC,EAAoD,GAApDA,EAAoD;AAAA,SAAhCC,eAAgC,GAAhCA,eAAgC;AAAE;AAEhH;AACF;AACA;;;AACEC,EAAAA,kBAAkB,CAACC,OAAD,EAA6B;AAC7C,SAAKH,EAAL,CAAQI,cAAR,CAAuB;AACrBC,MAAAA,IAAI,EAAEF,OAAO,CAACE,IADO;AAErBC,MAAAA,IAAI,EAAE,KAAKL,eAAL,CAAqBM,OAArB,GAA+BD,IAFhB;AAGrBE,MAAAA,UAAU,EAAE,EAHS;;AAIrB,YAAMC,cAAN,GAAuB;AACrB,eAAO,EAAP;AACD,OANoB;;AAOrB,YAAMC,cAAN,GAAuB;AACrB,eAAOP,OAAO,CAACQ,UAAf;AACD;;AAToB,KAAvB,EAD6C,CAa7C;;AAEA,WAAO,IAAP;AACD;;AAQoB,eAARC,QAAQ,CAAC,CAACb,WAAD,EAAcC,EAAd,EAAkBC,eAAlB,CAAD,EAA+E;AAClG,WAAO,IAAIJ,gBAAJ,CAAqBE,WAArB,EAAkCC,EAAlC,EAAsCC,eAAtC,CAAP;AACD;;AAhC2B;;;gCAAjBJ,gB,WAwBI,E;gCAxBJA,gB,kBA0BW,CAACgB,gCAAD,EAAoBC,aAApB,EAA8BC,4BAA9B,C;gCA1BXlB,gB,aA4BMmB,kB;;AAOnBC,mCAAmBC,UAAnB,CAA8BrB,gBAA9B","sourcesContent":["import { ApplicationAspect, ApplicationMain } from '@teambit/application';\nimport { MainRuntime } from '@teambit/cli';\nimport UIAspect, { UiMain } from '@teambit/ui';\nimport { ComponentAspect, ComponentMain } from '@teambit/component';\nimport { HarmonyAppOptions } from './harmony-app-options';\nimport { HarmonyUiAppAspect } from './harmony-ui-app.aspect';\n// import { HarmonyUIApp } from './ui.application';\n\nexport class HarmonyUiAppMain {\n  constructor(private application: ApplicationMain, private ui: UiMain, private componentAspect: ComponentMain) {}\n\n  /**\n   * register a new harmony UI application.\n   */\n  registerHarmonyApp(options: HarmonyAppOptions) {\n    this.ui.registerUiRoot({\n      name: options.name,\n      path: this.componentAspect.getHost().path,\n      configFile: '',\n      async resolvePattern() {\n        return [];\n      },\n      async resolveAspects() {\n        return options.aspectDefs;\n      },\n    });\n\n    // this.application.registerApp(new HarmonyUIApp(options.name, this.ui));\n\n    return this;\n  }\n\n  static slots = [];\n\n  static dependencies = [ApplicationAspect, UIAspect, ComponentAspect];\n\n  static runtime = MainRuntime;\n\n  static async provider([application, ui, componentAspect]: [ApplicationMain, UiMain, ComponentMain]) {\n    return new HarmonyUiAppMain(application, ui, componentAspect);\n  }\n}\n\nHarmonyUiAppAspect.addRuntime(HarmonyUiAppMain);\n"]}