{"version":3,"sources":["workspace-config.ts"],"names":["workspaceConfig","name","defaultScope","scope","configParsed","packageManager","policy","dependencies","peerDependencies","react","variants","configMerged"],"mappings":";;;;;;;;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEO,eAAeA,eAAf,CAA+B;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAA/B,EAAyE;AAC9E,QAAMC,KAAK,GAAGD,YAAY,IAAI,iBAA9B;AACA,QAAME,YAAY,GAAG,MAAM,iDAA3B;AACAA,EAAAA,YAAY,CAAC,6BAAD,CAAZ,CAA4CH,IAA5C,GAAmDA,IAAnD;AACAG,EAAAA,YAAY,CAAC,6BAAD,CAAZ,CAA4CF,YAA5C,GAA2DC,KAA3D;AACAC,EAAAA,YAAY,CAAC,0CAAD,CAAZ,CAAyDC,cAAzD,GAA0E,2BAA1E;AACAD,EAAAA,YAAY,CAAC,0CAAD,CAAZ,CAAyDE,MAAzD,GAAkE;AAChEC,IAAAA,YAAY,EAAE;AACZ,0CAAoC,UADxB;AAEZ,0CAAoC,QAFxB;AAGZ,qCAA+B,OAHnB;AAIZ,8BAAwB,QAJZ;AAKZ,4BAAsB,QALV;AAMZ,gCAA0B,OANd;AAOZ,2BAAqB,QAPT;AAQZ,6BAAuB;AARX,KADkD;AAWhEC,IAAAA,gBAAgB,EAAE;AAChB,gCAA0B,QADV;AAEhBC,MAAAA,KAAK,EAAE,QAFS;AAGhB,mBAAa;AAHG;AAX8C,GAAlE;AAkBA,QAAMC,QAAQ,GAAG;AACf,kCAA8B,0BAAO,IAAP;AADf,GAAjB;AAIA,QAAMC,YAAY,GAAG,2BAAOP,YAAP,EAAqBM,QAArB,CAArB;AAEA,SAAO,wCAAyBC,YAAzB,CAAP;AACD","sourcesContent":["import { WorkspaceContext } from '@teambit/generator';\nimport { getWorkspaceConfigTemplateParsed, stringifyWorkspaceConfig } from '@teambit/config';\nimport { parse, assign } from 'comment-json';\n\nexport async function workspaceConfig({ name, defaultScope }: WorkspaceContext) {\n  const scope = defaultScope || 'my-org.my-scope';\n  const configParsed = await getWorkspaceConfigTemplateParsed();\n  configParsed['teambit.workspace/workspace'].name = name;\n  configParsed['teambit.workspace/workspace'].defaultScope = scope;\n  configParsed['teambit.dependencies/dependency-resolver'].packageManager = 'teambit.dependencies/pnpm';\n  configParsed['teambit.dependencies/dependency-resolver'].policy = {\n    dependencies: {\n      '@teambit/eslint-config-bit-react': '~0.0.367',\n      '@typescript-eslint/eslint-plugin': '4.29.3',\n      'eslint-import-resolver-node': '0.3.6',\n      'eslint-plugin-import': '2.22.1',\n      'eslint-plugin-jest': '24.4.0',\n      'eslint-plugin-jsx-a11y': '6.4.1',\n      'eslint-plugin-mdx': '1.15.0',\n      'eslint-plugin-react': '7.25.1',\n    },\n    peerDependencies: {\n      '@testing-library/react': '12.0.0',\n      react: '17.0.2',\n      'react-dom': '17.0.2',\n    },\n  };\n\n  const variants = {\n    'teambit.workspace/variants': parse(`{}`),\n  };\n\n  const configMerged = assign(configParsed, variants);\n\n  return stringifyWorkspaceConfig(configMerged);\n}\n"]}