"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompositionsApp = CompositionsApp;

function _react() {
  const data = _interopRequireDefault(require("react"));

  _react = function () {
    return data;
  };

  return data;
}

function _baseUiUtils() {
  const data = require("@teambit/base-ui.utils.composer");

  _baseUiUtils = function () {
    return data;
  };

  return data;
}

function _designUiPages() {
  const data = require("@teambit/design.ui.pages.standalone-not-found-page");

  _designUiPages = function () {
    return data;
  };

  return data;
}

function _reactUi() {
  const data = require("@teambit/react.ui.error-fallback");

  _reactUi = function () {
    return data;
  };

  return data;
}

function _reactUi2() {
  const data = require("@teambit/react.ui.loader-fallback");

  _reactUi2 = function () {
    return data;
  };

  return data;
}

function _reactErrorBoundary() {
  const data = require("react-error-boundary");

  _reactErrorBoundary = function () {
    return data;
  };

  return data;
}

function _react2() {
  const data = require("./react.aspect");

  _react2 = function () {
    return data;
  };

  return data;
}

// hide scrollbars so they won't be visible in the preview at the component card (and it's ok not to show them in the compositions page)
const hideScrollbars = 'body::-webkit-scrollbar {display: none;}';

function CompositionsApp({
  Composition,
  previewContext
}) {
  const {
    providers = []
  } = previewContext.get(_react2().ReactAspect.id) || {};
  const safeComposition = (0, _reactUi2().useFallback)(Composition && /*#__PURE__*/_react().default.createElement(Composition, null), /*#__PURE__*/_react().default.createElement(_designUiPages().StandaloneNotFoundPage, null));
  return /*#__PURE__*/_react().default.createElement(_reactErrorBoundary().ErrorBoundary, {
    FallbackComponent: _reactUi().ErrorFallback,
    resetKeys: [Composition]
  }, /*#__PURE__*/_react().default.createElement(_baseUiUtils().Composer, {
    components: providers
  }, /*#__PURE__*/_react().default.createElement("style", null, hideScrollbars), safeComposition));
}

//# sourceMappingURL=compositions-app.js.map