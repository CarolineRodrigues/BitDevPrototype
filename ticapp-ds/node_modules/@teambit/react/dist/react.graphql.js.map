{"version":3,"sources":["react.graphql.ts"],"names":["reactSchema","react","typeDefs","resolvers","ComponentHost","getDocs","host","id","componentId","resolveComponentId","component","get","empty","abstract","filePath","properties","docs"],"mappings":";;;;;;;;;;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAIO,SAASA,WAAT,CAAqBC,KAArB,EAAuC;AAC5C,SAAO;AACLC,IAAAA,QAAQ,EAAE,0BAAI;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxBS;AAyBLC,IAAAA,SAAS,EAAE;AACTC,MAAAA,aAAa,EAAE;AACbC,QAAAA,OAAO,EAAE,OAAOC,IAAP,EAA+B;AAAEC,UAAAA;AAAF,SAA/B,KAA0D;AACjE,gBAAMC,WAAW,GAAG,MAAMF,IAAI,CAACG,kBAAL,CAAwBF,EAAxB,CAA1B;AACA,gBAAMG,SAAS,GAAG,MAAMJ,IAAI,CAACK,GAAL,CAASH,WAAT,CAAxB;AACA,gBAAMI,KAAK,GAAG;AACZC,YAAAA,QAAQ,EAAE,EADE;AAEZC,YAAAA,QAAQ,EAAE,EAFE;AAGZC,YAAAA,UAAU,EAAE;AAHA,WAAd;AAMA,cAAI,CAACL,SAAL,EAAgB,OAAOE,KAAP;AAChB,gBAAMI,IAAI,GAAGf,KAAK,CAACI,OAAN,CAAcK,SAAd,CAAb;AACA,cAAI,CAACM,IAAL,EAAW,OAAOJ,KAAP;AAEX,iBAAOI,IAAP;AACD;AAfY;AADN;AAzBN,GAAP;AA6CD","sourcesContent":["import { ComponentFactory } from '@teambit/component';\nimport gql from 'graphql-tag';\n\nimport { ReactMain } from './react.main.runtime';\n\nexport function reactSchema(react: ReactMain) {\n  return {\n    typeDefs: gql`\n      extend type ComponentHost {\n        getDocs(id: String!): ReactDocs\n      }\n\n      type ReactDocs {\n        abstract: String\n        filePath: String\n        properties: [Property]\n      }\n\n      type Property {\n        name: String\n        description: String\n        required: Boolean\n        type: String\n        defaultValue: DefaultValue\n      }\n\n      type DefaultValue {\n        value: String\n        computed: Boolean\n      }\n    `,\n    resolvers: {\n      ComponentHost: {\n        getDocs: async (host: ComponentFactory, { id }: { id: string }) => {\n          const componentId = await host.resolveComponentId(id);\n          const component = await host.get(componentId);\n          const empty = {\n            abstract: '',\n            filePath: '',\n            properties: [],\n          };\n\n          if (!component) return empty;\n          const docs = react.getDocs(component);\n          if (!docs) return empty;\n\n          return docs;\n        },\n      },\n    },\n  };\n}\n"]}