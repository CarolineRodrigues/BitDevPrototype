{"version":3,"sources":["compositions-app.tsx"],"names":["hideScrollbars","CompositionsApp","Composition","previewContext","providers","get","ReactAspect","id","safeComposition","ErrorFallback"],"mappings":";;;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AACA,MAAMA,cAAc,GAAG,0CAAvB;;AAEO,SAASC,eAAT,CAAyB;AAC9BC,EAAAA,WAD8B;AAE9BC,EAAAA;AAF8B,CAAzB,EAMJ;AACD,QAAM;AAAEC,IAAAA,SAAS,GAAG;AAAd,MAAqBD,cAAc,CAACE,GAAf,CAAmBC,sBAAYC,EAA/B,KAAsC,EAAjE;AAEA,QAAMC,eAAe,GAAG,6BAAYN,WAAW,iBAAI,+BAAC,WAAD,OAA3B,eAA4C,+BAAC,uCAAD,OAA5C,CAAxB;AAEA,sBACE,+BAAC,mCAAD;AAAe,IAAA,iBAAiB,EAAEO,wBAAlC;AAAiD,IAAA,SAAS,EAAE,CAACP,WAAD;AAA5D,kBACE,+BAAC,uBAAD;AAAU,IAAA,UAAU,EAAEE;AAAtB,kBACE,8CAAQJ,cAAR,CADF,EAEGQ,eAFH,CADF,CADF;AAQD","sourcesContent":["import React, { ComponentType } from 'react';\nimport { Composer } from '@teambit/base-ui.utils.composer';\nimport { StandaloneNotFoundPage } from '@teambit/design.ui.pages.standalone-not-found-page';\nimport { RenderingContext } from '@teambit/preview';\nimport { ErrorFallback } from '@teambit/react.ui.error-fallback';\nimport { useFallback } from '@teambit/react.ui.loader-fallback';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { ReactAspect } from './react.aspect';\n\n// hide scrollbars so they won't be visible in the preview at the component card (and it's ok not to show them in the compositions page)\nconst hideScrollbars = 'body::-webkit-scrollbar {display: none;}';\n\nexport function CompositionsApp({\n  Composition,\n  previewContext,\n}: {\n  Composition?: ComponentType;\n  previewContext: RenderingContext;\n}) {\n  const { providers = [] } = previewContext.get(ReactAspect.id) || {};\n\n  const safeComposition = useFallback(Composition && <Composition />, <StandaloneNotFoundPage />);\n\n  return (\n    <ErrorBoundary FallbackComponent={ErrorFallback} resetKeys={[Composition]}>\n      <Composer components={providers}>\n        <style>{hideScrollbars}</style>\n        {safeComposition}\n      </Composer>\n    </ErrorBoundary>\n  );\n}\n"]}