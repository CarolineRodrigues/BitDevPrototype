{"version":3,"sources":["create.cmd.ts"],"names":["CreateCmd","constructor","generator","docsDomain","report","templateName","componentNames","options","results","generateComponentTemplate","title","length","componentsData","map","result","chalk","bold","id","toString","dir","envId","envSetBy","join","footer","green"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAWO,MAAMA,SAAN,CAAmC;AAexCC,EAAAA,WAAW,CAASC,SAAT,EAA2CC,UAA3C,EAA+D;AAAA,SAAtDD,SAAsD,GAAtDA,SAAsD;AAAA,SAApBC,UAAoB,GAApBA,UAAoB;AAAA,kDAdnE,2CAcmE;AAAA,yDAb5D,wCAa4D;AAAA,8DAZvD,EAYuD;AAAA,mDAXlE,EAWkE;AAAA,oDAVjE,IAUiE;AAAA,mDATlE,aASkE;AAAA,qDARhE,CACR,CAAC,GAAD,EAAM,oBAAN,EAA6B,iEAA7B,CADQ,EAER,CAAC,GAAD,EAAM,gBAAN,EAAyB,iFAAzB,CAFQ,EAGR,CAAC,GAAD,EAAM,iBAAN,EAAyB,qFAAzB,CAHQ,EAIR,CAAC,GAAD,EAAM,eAAN,EAAuB,qFAAvB,CAJQ,EAKR,CAAC,GAAD,EAAM,cAAN,EAAsB,qFAAtB,CALQ,CAQgE;AAAE;;AAEhE,QAANC,MAAM,CAAC,CAACC,YAAD,EAAeC,cAAf,CAAD,EAAqDC,OAArD,EAA6E;AACvF,UAAMC,OAAO,GAAG,MAAM,KAAKN,SAAL,CAAeO,yBAAf,CAAyCH,cAAzC,EAAyDD,YAAzD,EAAuEE,OAAvE,CAAtB;AACA,UAAMG,KAAK,GAAI,GAAEF,OAAO,CAACG,MAAO,4BAAhC;AAEA,UAAMC,cAAc,GAAGJ,OAAO,CAC3BK,GADoB,CACfC,MAAD,IAAY;AACf,aAAQ,GAAEC,iBAAMC,IAAN,CAAWF,MAAM,CAACG,EAAP,CAAUC,QAAV,EAAX,CAAiC;AACnD,gBAAgBJ,MAAM,CAACK,GAAI;AAC3B,gBAAgBL,MAAM,CAACM,KAAM,YAAWN,MAAM,CAACO,QAAS;AACxD,CAHQ;AAID,KANoB,EAOpBC,IAPoB,CAOf,IAPe,CAAvB;AAQA,UAAMC,MAAM,GAAI,8GAA6G,KAAKpB,UAAW,kBAA7I;AAEA,WAAQ,GAAEY,iBAAMS,KAAN,CAAYd,KAAZ,CAAmB,OAAME,cAAe,OAAMW,MAAO,EAA/D;AACD;;AAhCuC","sourcesContent":["import { Command, CommandOptions } from '@teambit/cli';\nimport chalk from 'chalk';\nimport { GeneratorMain } from './generator.main.runtime';\n\nexport type CreateOptions = {\n  namespace?: string;\n  aspect?: string;\n  scope?: string;\n  path?: string;\n  env?: string;\n};\n\nexport class CreateCmd implements Command {\n  name = 'create <templateName> <componentNames...>';\n  description = 'create a new component from a template';\n  shortDescription = '';\n  alias = '';\n  loader = true;\n  group = 'development';\n  options = [\n    ['n', 'namespace <string>', `sets the component's namespace and nested dirs inside the scope`],\n    ['s', 'scope <string>', `sets the component's scope-name. if not entered, the default-scope will be used`],\n    ['a', 'aspect <string>', 'aspect-id of the template. helpful when multiple aspects use the same template name'],\n    ['p', 'path <string>', 'relative path in the workspace. by default the path is `<scope>/<namespace>/<name>`'],\n    ['e', 'env <string>', \"set the component's environment. (overrides the env from variants and the template)\"],\n  ] as CommandOptions;\n\n  constructor(private generator: GeneratorMain, private docsDomain: string) {}\n\n  async report([templateName, componentNames]: [string, string[]], options: CreateOptions) {\n    const results = await this.generator.generateComponentTemplate(componentNames, templateName, options);\n    const title = `${results.length} component(s) were created`;\n\n    const componentsData = results\n      .map((result) => {\n        return `${chalk.bold(result.id.toString())}\n    location: ${result.dir}\n    env:      ${result.envId} (set by ${result.envSetBy})\n`;\n      })\n      .join('\\n');\n    const footer = `env configuration is according to workspace variants, template config or --env flag. learn more at https://${this.docsDomain}/envs/using-envs`;\n\n    return `${chalk.green(title)}\\n\\n${componentsData}\\n\\n${footer}`;\n  }\n}\n"]}