{"version":3,"sources":["element-wrapper-template.ts"],"names":["getWrapperTemplateFn","elementsPrefix","wrapperTemplateFn","context","kababName","componentName","elementName","mainFilePath"],"mappings":";;;;;;;;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAMO,SAASA,oBAAT,CAA8B;AAAEC,EAAAA,cAAc,GAAG;AAAnB,CAA9B,EAAwE;AAC7E,QAAMC,iBAAoC,GAAIC,OAAD,IAAqC;AAChF,UAAMC,SAAS,GAAG,2BAAWD,OAAO,CAACE,aAAnB,CAAlB;AACA,UAAMC,WAAW,GAAGL,cAAc,GAAI,GAAEA,cAAe,IAAGG,SAAU,EAAlC,GAAsCA,SAAxE;AACA,WAAQ;AACZ;AACA,yBAAyB,4CAAwBD,OAAO,CAACI,YAAhC,CAA8C;AACvE,QAAQJ,OAAO,CAACE,aAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyBC,WAAY,MAAKH,OAAO,CAACE,aAAc,IAf5D;AAgBD,GAnBD;;AAoBA,SAAOH,iBAAP;AACD","sourcesContent":["import { ElementsWrapperContext, ElementsWrapperFn } from '@teambit/elements';\nimport { toWindowsCompatiblePath } from '@teambit/toolbox.path.to-windows-compatible-path';\n\nimport decamelize from 'decamelize';\n\nexport type GetWrapperOpts = {\n  elementsPrefix: string;\n};\n\nexport function getWrapperTemplateFn({ elementsPrefix = 'x' }: GetWrapperOpts) {\n  const wrapperTemplateFn: ElementsWrapperFn = (context: ElementsWrapperContext) => {\n    const kababName = decamelize(context.componentName);\n    const elementName = elementsPrefix ? `${elementsPrefix}-${kababName}` : kababName;\n    return `import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Component from '${toWindowsCompatiblePath(context.mainFilePath)}';\nclass ${context.componentName} extends HTMLElement {\n  connectedCallback() {\n    const mountPoint = document.createElement('span');\n    this.attachShadow({ mode: 'open' }).appendChild(mountPoint);\n    const el = this;\n    const props = this.getAttributeNames().reduce((acc, curr) => {\n      acc[curr] = el.getAttribute(curr);\n      return acc;\n    }, {})\n    ReactDOM.render(<Component {...props}></Component>, mountPoint);\n  }\n}\ncustomElements.define('${elementName}', ${context.componentName});`;\n  };\n  return wrapperTemplateFn;\n}\n"]}