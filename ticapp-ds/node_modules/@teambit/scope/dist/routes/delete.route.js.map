{"version":3,"sources":["delete.route.ts"],"names":["DeleteRoute","constructor","scope","Verb","WRITE","req","res","headers","setTimeout","config","httpTimeOut","result","delete","ids","body","force","lanes","json"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAGO,MAAMA,WAAN,CAAmC;AACxCC,EAAAA,WAAW,CAASC,KAAT,EAA2B;AAAA,SAAlBA,KAAkB,GAAlBA,KAAkB;AAAA,oDAE7B,MAF6B;AAAA,mDAG9B,eAH8B;AAAA,kDAI/BC,gBAAKC,KAJ0B;AAAA,yDAMxB,CACZ,OAAOC,GAAP,EAAqBC,GAArB,KAAuC;AACrC,YAAM;AAAEC,QAAAA;AAAF,UAAcF,GAApB;AACAA,MAAAA,GAAG,CAACG,UAAJ,CAAe,KAAKN,KAAL,CAAWO,MAAX,CAAkBC,WAAjC;AACA,YAAMC,MAAM,GAAG,MAAM,KAAKT,KAAL,CAAWU,MAAX,CACnB;AACEC,QAAAA,GAAG,EAAER,GAAG,CAACS,IAAJ,CAASD,GADhB;AAEEE,QAAAA,KAAK,EAAEV,GAAG,CAACS,IAAJ,CAASC,KAFlB;AAGEC,QAAAA,KAAK,EAAEX,GAAG,CAACS,IAAJ,CAASE;AAHlB,OADmB,EAMnBT,OANmB,CAArB;AAQAD,MAAAA,GAAG,CAACW,IAAJ,CAASN,MAAT;AACD,KAbW,CANwB;AAAE;;AADA","sourcesContent":["import { Route, Verb, Request, Response } from '@teambit/express';\nimport { ScopeMain } from '../scope.main.runtime';\n\nexport class DeleteRoute implements Route {\n  constructor(private scope: ScopeMain) {}\n\n  method = 'post';\n  route = '/scope/delete';\n  verb = Verb.WRITE;\n\n  middlewares = [\n    async (req: Request, res: Response) => {\n      const { headers } = req;\n      req.setTimeout(this.scope.config.httpTimeOut);\n      const result = await this.scope.delete(\n        {\n          ids: req.body.ids,\n          force: req.body.force,\n          lanes: req.body.lanes,\n        },\n        headers\n      );\n      res.json(result);\n    },\n  ];\n}\n"]}