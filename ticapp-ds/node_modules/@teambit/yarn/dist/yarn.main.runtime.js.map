{"version":3,"sources":["yarn.main.runtime.ts"],"names":["YarnMain","provider","depResolver","pkg","loggerExt","logger","createLogger","YarnAspect","id","registerPackageManager","YarnPackageManager","DependencyResolverAspect","PkgAspect","LoggerAspect","MainRuntime","addRuntime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEO,MAAMA,QAAN,CAAe;AAKC,eAARC,QAAQ,CAAC,CAACC,WAAD,EAAcC,GAAd,EAAmBC,SAAnB,CAAD,EAA+E;AAClG,UAAMC,MAAM,GAAGD,SAAS,CAACE,YAAV,CAAuBC,oBAAWC,EAAlC,CAAf;AACAN,IAAAA,WAAW,CAACO,sBAAZ,CAAmC,KAAIC,0BAAJ,EAAuBR,WAAvB,EAAoCC,GAApC,EAAyCE,MAAzC,CAAnC;AACA,WAAO,IAAIL,QAAJ,EAAP;AACD;;AATmB;;;gCAATA,Q,kBACW,CAACW,8CAAD,EAA2BC,gBAA3B,EAAsCC,sBAAtC,C;gCADXb,Q,aAGMc,kB;;AASnBP,oBAAWQ,UAAX,CAAsBf,QAAtB","sourcesContent":["import { DependencyResolverAspect, DependencyResolverMain } from '@teambit/dependency-resolver';\nimport { MainRuntime } from '@teambit/cli';\nimport { PkgAspect, PkgMain } from '@teambit/pkg';\nimport { LoggerAspect, LoggerMain } from '@teambit/logger';\nimport { YarnPackageManager } from './yarn.package-manager';\nimport { YarnAspect } from './yarn.aspect';\n\nexport class YarnMain {\n  static dependencies = [DependencyResolverAspect, PkgAspect, LoggerAspect];\n\n  static runtime = MainRuntime;\n\n  static async provider([depResolver, pkg, loggerExt]: [DependencyResolverMain, PkgMain, LoggerMain]) {\n    const logger = loggerExt.createLogger(YarnAspect.id);\n    depResolver.registerPackageManager(new YarnPackageManager(depResolver, pkg, logger));\n    return new YarnMain();\n  }\n}\n\nYarnAspect.addRuntime(YarnMain);\n"]}